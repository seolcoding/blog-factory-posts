---
/**
 * SmartImage Demo Page
 * Tests all image sources: Wikipedia, DuckDuckGo, Pexels
 */
import Layout from "@/layouts/Layout.astro";
import Header from "@/components/Header.astro";
import Footer from "@/components/Footer.astro";
import SmartImage from "@/components/widgets/SmartImage.astro";
---

<Layout>
  <Header />
  <main id="main-content" class="mx-auto w-full max-w-3xl px-4 pb-12">
    <h1 class="text-3xl font-bold mb-8 mt-8">SmartImage Component Demo</h1>

    <!-- Wikipedia/Entity Images -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">üåê Wikipedia Entity Images</h2>
      <p class="text-muted-foreground mb-6">
        Known entities like people, companies, and countries are fetched from Wikipedia/Wikidata.
      </p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-medium mb-2">Elon Musk (English)</h3>
          <SmartImage
            query="Elon Musk"
            sources={["wikipedia"]}
            size="medium"
            lang="en"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">ÏÇºÏÑ±Ï†ÑÏûê (Korean)</h3>
          <SmartImage
            query="ÏÇºÏÑ±Ï†ÑÏûê"
            sources={["wikipedia"]}
            size="medium"
            lang="ko"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">Tim Cook</h3>
          <SmartImage
            query="Tim Cook"
            sources={["wikipedia"]}
            size="medium"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">Tesla Inc</h3>
          <SmartImage
            query="Tesla Inc"
            sources={["wikipedia"]}
            size="medium"
          />
        </div>
      </div>
    </section>

    <!-- DuckDuckGo Images -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">ü¶Ü DuckDuckGo Image Search</h2>
      <p class="text-muted-foreground mb-6">
        General image search for topics that may not have Wikipedia pages.
      </p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-medium mb-2">AI Technology</h3>
          <SmartImage
            query="artificial intelligence technology"
            sources={["ddg"]}
            size="medium"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">Seoul Cityscape</h3>
          <SmartImage
            query="Seoul cityscape night"
            sources={["ddg"]}
            size="medium"
          />
        </div>
      </div>
    </section>

    <!-- Pexels Stock Images -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">üì∑ Pexels Stock Photos</h2>
      <p class="text-muted-foreground mb-6">
        High-quality stock photos from Pexels (requires API key).
      </p>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <div>
          <h3 class="font-medium mb-2">Technology (Landscape)</h3>
          <SmartImage
            query="technology"
            sources={["pexels"]}
            size="medium"
            orientation="landscape"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">Business Office</h3>
          <SmartImage
            query="business office"
            sources={["pexels"]}
            size="medium"
          />
        </div>
      </div>
    </section>

    <!-- Smart Auto-Selection -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">üß† Smart Auto-Selection</h2>
      <p class="text-muted-foreground mb-6">
        Default behavior: tries Wikipedia ‚Üí DDG ‚Üí Pexels in order.
      </p>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div>
          <h3 class="font-medium mb-2">Entity (Wikipedia)</h3>
          <SmartImage
            query="Bill Gates"
            size="small"
            caption="Microsoft co-founder"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">General Topic</h3>
          <SmartImage
            query="coding programming developer"
            size="small"
            caption="Software development"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">Abstract Concept</h3>
          <SmartImage
            query="innovation creativity"
            size="small"
            caption="Creative thinking"
          />
        </div>
      </div>
    </section>

    <!-- Size Variations -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">üìê Size Variations</h2>
      <div class="flex flex-wrap gap-6 items-end">
        <div>
          <h3 class="font-medium mb-2">Small (200px)</h3>
          <SmartImage
            query="Google"
            size="small"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">Medium (400px)</h3>
          <SmartImage
            query="Google"
            size="medium"
          />
        </div>
        <div>
          <h3 class="font-medium mb-2">Large (600px)</h3>
          <SmartImage
            query="Google"
            size="large"
          />
        </div>
      </div>
    </section>

    <!-- Fallback Demo -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">‚ö†Ô∏è Fallback Behavior</h2>
      <p class="text-muted-foreground mb-6">
        When no image is found, a placeholder is shown.
      </p>
      <SmartImage
        query="xyznonexistentquery123456789"
        size="medium"
        showAttribution={false}
      />
    </section>

    <!-- Source Badges -->
    <section class="mb-12">
      <h2 class="text-2xl font-semibold mb-4">üè∑Ô∏è Source Attribution</h2>
      <p class="text-muted-foreground mb-6">
        Each source has a colored badge for easy identification.
      </p>
      <div class="flex flex-wrap gap-4">
        <span class="px-2 py-1 rounded text-xs font-medium bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200">WIKIPEDIA</span>
        <span class="px-2 py-1 rounded text-xs font-medium bg-orange-100 text-orange-800 dark:bg-orange-900 dark:text-orange-200">DDG</span>
        <span class="px-2 py-1 rounded text-xs font-medium bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200">OG</span>
        <span class="px-2 py-1 rounded text-xs font-medium bg-purple-100 text-purple-800 dark:bg-purple-900 dark:text-purple-200">PEXELS</span>
      </div>
    </section>
  </main>
  <Footer />
</Layout>
